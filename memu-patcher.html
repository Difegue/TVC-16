<!DOCTYPE html>
<html lang="en">

<head>
  <title>Blogopolis - That one time I wrote a memory patcher for an Android Emulator to keep playing FGO</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link
    href="https://tvc-16.science/feeds/all.atom.xml"
    type="application/atom+xml" rel="alternate" title="Blogopolis Full Atom Feed" />
  <link
    href="https://tvc-16.science/feeds/software.atom.xml"
    type="application/atom+xml" rel="alternate" title="Blogopolis Categories Atom Feed" />

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
  <script data-goatcounter="https://dingus.tvc-16.science/count" async src="//dingus.tvc-16.science/count.js"></script>

  <link rel="apple-touch-icon" sizes="180x180" href="https://tvc-16.science/theme/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://tvc-16.science/theme/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://tvc-16.science/theme/favicon-16x16.png">
  <link rel="manifest" href="https://tvc-16.science/theme/site.webmanifest">
  <link rel="mask-icon" href="https://tvc-16.science/theme/safari-pinned-tab.svg" color="#f040b0">
  <link rel="webmention" href="https://webmention.io/tvc-16.science/webmention" />
  <link rel="pingback" href="https://webmention.io/tvc-16.science/xmlrpc" />
  <meta name="msapplication-TileColor" content="#f1c711">
  <meta name="theme-color" content="#f1c711">

<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="That one time I wrote a memory patcher for an Android Emulator to keep playing FGO - Blogopolis" />
<meta property="og:type" content="article" />
<meta property="og:description" content="<p>Why yes, I was the hacker known as 4chan this entire time!</p>" />
<meta property="og:url" content="https://tvc-16.science/memu-patcher.html" />
<meta property="og:image" content="https://tvc-16.science/images/memupatcher/about.png" />

  <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/bluesky-comments@0.9.0/dist/bluesky-comments.css">
  <link rel="stylesheet" href="https://tvc-16.science/theme/css/style.css">
  <link rel="stylesheet" href="https://tvc-16.science/theme/css/pygment.css">




<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="That one time I wrote a memory patcher for an Android Emulator to keep playing FGO - Blogopolis" />
<meta property="og:type" content="article" />
<meta property="og:description" content="<p>Why yes, I was the hacker known as 4chan this entire time!</p>" />
<meta property="og:url" content="https://tvc-16.science/memu-patcher.html" />
<meta property="og:image" content="https://tvc-16.science/images/memupatcher/about.png" />

<meta name="tags" content="memu" />
<meta name="tags" content="android" />
<meta name="tags" content="patch" />
<meta name="tags" content="winforms" />
<meta name="tags" content="fgo" />

</head>

<body id="index" class="home">

  <canvas id="stage"></canvas>
  <header id="banner" class="body">
    <center><img height="170px" src="https://tvc-16.science/theme/img/logotype.svg" /></center>
  </header><!-- /#banner -->

  <div id="mainText">

    <h2 class="subtitle">

      <a style="color:black !important" href="/projects.html">Projects</a>
      🔸
      <a style="color:black !important" href="/">Articles</a>
      🔸
      <a style="color:black !important" href="/categories.html">Categories</a>
      🔸

    </h2><!-- /#menu -->

    <div class="top-border project-background"></div>
    <div class="wrapper project-background">
      <div class="text">
<section id="content" class="body" style="max-width: 900px;margin-left: auto;margin-right: auto;">
  <header>
    <h2 class="entry-title">
      <a href="https://tvc-16.science/memu-patcher.html" rel="bookmark" title="Permalink to That one time I wrote a memory patcher for an Android Emulator to keep playing FGO">
        That one time I wrote a memory patcher for an Android Emulator to keep playing FGO
      </a>
    </h2>
    
  </header>
  <footer class="post-info terminal-text">
    <time class="published" datetime="2021-04-23T00:00:00+02:00">
      Fri 23 April 2021
    </time>
    <address class="vcard author">
      By       <a class="url fn" href="https://tvc-16.science/author/difegue.html">Difegue</a>
    </address>
    <div class="category">
      Category: <a href="https://tvc-16.science/category/software.html">Software</a>
    </div>
    <div class="tags">
      Tags:
      <a href="https://tvc-16.science/tag/memu.html">memu</a>
      <a href="https://tvc-16.science/tag/android.html">android</a>
      <a href="https://tvc-16.science/tag/patch.html">patch</a>
      <a href="https://tvc-16.science/tag/winforms.html">winforms</a>
      <a href="https://tvc-16.science/tag/fgo.html">fgo</a>
    </div>
    <div class="summary">
      <p>Why yes, I was the hacker known as 4chan this entire time!</p>
    </div>

  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I've been playing Fate/Grand Order for a pretty long time now, and have irredeemably fallen into <a href="https://twitter.com/Difegue/status/1289636218578378752">deep gambling addiction</a>.<br>
Besides the whole "paying for coomer JPEGs" thing, FGO often relies on heavy farming to get a bunch of resources.<sup><sub>Regular mobage trite really</sup></sub>  </p>
<p><img alt="I haven't actually paid money for most of this it's just been already 5 years good lord save me type-moon release something else already" src="https://tvc-16.science/images/memupatcher/fgo.jpg"></p>
<p>While I do enjoy the gameplay to a point, repeating a battle 300 times is not fun no matter how you try to spin it...<br>
For a while, the easiest way to automate farming in FGO was to throw the game on an <strong>Android emulator</strong> and run a <a href="https://github.com/29988122/Fate-Grand-Order_Lua">Lua script</a> on it.<br>
Alas, FGO is also quite known for its hate of <strong><a href="https://topjohnwu.medium.com/from-anime-game-to-android-system-security-vulnerability-9b955a182f20">any form of game/phone modification.</a></strong><br>
<sup>(I very much recommend reading this article if you haven't already done so, it'll be more interesting than anything written here.)</sup>  </p>
<p>At some point during the sweet summer of 2017, FGO stopped working on most famous emulator used to run it, <a href="https://www.memuplay.com">Memu</a>.<br>
The developers had implemented some extra checks for it when the game launches.<br>
Back then I was temporarily without a decent phone as well, so the incentive to get the bloody thing working again was quite high. <sup>Never underestimate what someone can do for his vidyagames and login streaks...</sup>  </p>
<p>Surprisingly, the checks were quite easy to circumvent, as they were only looking for <strong>specific identifiers</strong>, which could be replaced in the emulator's memory directly with a hex editor:<br>
<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FDifegue%2FChaotic-Realm%2Fblob%2Fmaster%2FMemuPatcher%2FUnlimitedMemuWorks%2FForm1.cs%23L20-L24&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on&showCopy=on"></script>  <sub><sup>Somehow doing a grand-scale string replacement in-memory like that didn't completely crash the thing, which is kinda impressive I guess?</sub></sup>  </p>
<p>I take no credit for figuring that one out, it came out of some <a href="https://github.com/wDCat/ANRC/issues/98">dudes on github</a>, who promptly decided to hide/delete it, thinking it'd make the trick last longer.<br>
<img alt="Imagine thinking that essentially performing brain surgery on a live emulator is a reliable and permanent fix" src="https://tvc-16.science/images/memupatcher/sikritclub.png"><br>
Oh, those <em>absolute, utter dinguses.</em><br>
<img alt="get a load of this freakin guy" src="https://tvc-16.science/images/memupatcher/lmao.gif"><br>
The method was obviously screenshotted and spread around on various boards.<br>
It worked, but busting out HxD everyime you wanted to run your farming script? 100% pain.  </p>
<p>The Github thread was starting to look like a mid-2000's warez forum with everyone begging for the method through Facebook by this point(seriously go flip through it it's unreal), which made me think things could be improved somewhat.  </p>
<p>So with the following goals in mind:  </p>
<ul>
<li>Destroying the secret club for the sole purpose of spreading chaos over the land  </li>
<li>Making my own life easier so I could farm the upcoming Nerofest lottery in peace  </li>
</ul>
<p>I wrote an automated memory patcher in .NET/WinForms in a few days:<br>
<img alt="I know there's a bunch of fucks but what can I say this was released anonymously" src="https://tvc-16.science/images/memupatcher/patcher.png"><br>
I say .NET, but this is almost more P/Invoke than interpreted considering all the patching code goes through Win32's <code>VirtualQueryEx/ReadProcessMemory/WriteProcessMemory</code> calls. ¯\_(ツ)_/¯  </p>
<p>Releasing this thing anonymously into the wild was especially funny, with various reactions such as:</p>
<ul>
<li>FUD about the patcher being malware despite being uploaded with the source code attached  </li>
<li>Reddit tutorials being written referring to the program as the <a href="https://www.reddit.com/r/grandorder/comments/6wi08i/episode_xiii_doom_or_be_doomed/dm89feh/">"Patchouli Patcher"</a> since I had <a href="https://tvc-16.science/images/memupatcher/suofile.png">accidentally left my .vs folder in the uploaded code</a> like an idiot</li>
<li>FUD about the patcher <a href="https://pastebin.com/U7qb6Jbh">getting your FGO account potentially banned</a>  </li>
<li>People begging for support screaming that they did buy Sonic Mania (sega should pay me for all this free advertising I gave them)  </li>
</ul>
<p><img alt="Real evidence of said begging not staged" src="images/memupatcher/mania.jpg">  </p>
<p>I never got it to reliably work on Windows 7/8, but nonetheless it seemed to be quite popular! (Looking back at the source, I suspect there's something wrong with my usage of <code>SYSTEM_INFO</code>.)<br>
Most importantly, it spread the method around so other people could implement it in Cheat Engine or similar.  </p>
<h2>Closing thoughts</h2>
<p>As a result, I got my share of anonymous hacker fame, saved some login streaks (including the guy <a href="https://github.com/wDCat/ANRC/issues/110">making the Lua farming script</a> so yknow, what goes around comes around ✨), and autofarmed to my hearts' content until <a href="https://www.bignox.com/">Nox</a> got reliable FGO support, at which point I switched and never looked back. 👏  </p>
<p>I've uploaded the latest version of the code I had here: <a href="https://github.com/Difegue/Chaotic-Realm/tree/master/MemuPatcher">https://github.com/Difegue/Chaotic-Realm/tree/master/MemuPatcher</a><br>
I don't think this will be useful to anyone considering it's just a half-baked memory scanner and Cheat Engine literally does the same thing, but you might get a laugh out of it.  </p>
<p>I think FGO still manages to block emulators every now and then, but I've entirely moved to just running <a href="https://github.com/Fate-Grand-Automata/FGA">FGA</a> on my phone instead of the Lua script these days, so I don't really care anymore.  </p>
  </div><!-- /.entry-content -->
  <a class="containerBox">
    <img src="https://tvc-16.science/theme/img/button2.svg" class="img-responsive">
    <div class="text-box pink-button">
      <span class=" button-text pink-shadow">Comments</span>
    </div>
  </a> <br /><br /><br /><br /><br /><br /><br /><br />
  <script src="https://utteranc.es/client.js" repo="difegue/TVC-16" issue-term="url" theme="github-light"
    crossorigin="anonymous" async>
  </script>
</section>
      </div>
    </div>
    <div class="bot-border project-background"></div>

    <br />
    <br />
    <br />

  </div>

  <footer id="contentinfo" class="body" style="position:relative; overflow:hidden">
    <div class="top-border hello-background"></div>
    <div class="wrapper hello-background">
      <div class="text">

        <a class="containerBox">
          <img src="https://tvc-16.science/theme/img/button1.svg" class="img-responsive">
          <div class="text-box blue-button">
            <span class=" button-text blue-shadow">About</span>
          </div>
        </a>

        <div class="scroll-left">
          <p>
            <script language="JavaScript">
              //never forget grugeisti ;_;7
              var r_text = new Array();
              r_text[0] = "This is COOL";
              r_text[1] = "TOP-SHELF BLOG DEVICE";
              r_text[2] = "ACCELERATED PORTFOLIO SYSTEM";
              r_text[3] = "Lookin' cool !";
              r_text[4] = "ENHANCED SVG GRAPHICS";
              r_text[5] = "HIGH-SPEED CHEAP VPS";
              r_text[6] = "DELUXE UPTIME EXPERIENCE";
              r_text[7] = "BEST-IN-CLASS SCROLLING TEXT";
              r_text[8] = "HIGH GRADE MULTICONTAINER SETUP";
              var i = Math.floor(9 * Math.random())
              document.write(r_text[i]);
            </script>
          </p>
        </div>
        Runnin' straight down the information highway in a 3$ Vultr VPS. <br /><br />
        Typefaces used: <a href="https://rsms.me/inter/">Inter</a>, <a
          href="https://blog.marsnev.com/2017/03/font-lemonmilk.html">Lemon/Milk</a>,
        <a href="https://fonts.google.com/specimen/VT323">VT323</a>.
        Built using <a href="https://github.com/difegue" rel="me"> Github Actions</a> and Pelican. <br />
        You can talk to me on <a rel="me" href="https://bsky.app/profile/difegue.bsky.social">Bluesky</a> or <a rel="me"
          href="https://kolektiva.social/@Difegue">Mastodon</a> if that's your thing.

      </div>
    </div>
    <div class="bot-border hello-background"></div>
  </footer><!-- /#contentinfo -->

  <br />
  <br />
  <br />

  <div class="footer-container" title="This COOL SYSTEM has been running...for some time now.">
    <span class="footer-text">Uptime:
      <br>
      <span id="uptime">XXX days </span>
    </span>
    <img src="https://tvc-16.science/theme/img/footer.svg" class="footer-image">
  </div>

  <script src="https://tvc-16.science/theme/index.js"></script>
</body>

</html>